(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(t,e,a){t.exports=a.p+"static/media/preloader.aa3813e4.svg"},31:function(t,e,a){t.exports=a(59)},36:function(t,e,a){},59:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(14),o=a.n(s),i=(a(36),a(6)),c=a(1),l=a(9),u=a(3),d=a(2),p=a(4),f=(a(7),a(11)),h=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(s)))).onDeleteTask=function(){a.props.deleteTask(a.props.task.id)},a.onIsDoneChanged=function(t){a.props.changeStatus(a.props.task.id,t.currentTarget.checked?2:0)},a.onTitleChanged=function(t){a.setState({newTitle:t.currentTarget.value})},a.state={editMode:!1,newTitle:a.props.task.title},a.activateEditMode=function(){a.setState({editMode:!0})},a.deactivateEditMode=function(){a.setState({editMode:!1}),a.props.changeTitle(a.props.task.id,a.state.newTitle)},a.render=function(){var t=2===a.props.task.status?"todoList-task done":"todoList-task",e="";switch(a.props.task.priority){case 0:e="Low";break;case 1:e="Middle";break;case 2:e="High";break;case 3:e="Urgently";break;case 4:e="Later"}return r.a.createElement("div",{className:t},r.a.createElement("input",{type:"checkbox",checked:2==a.props.task.status,onChange:a.onIsDoneChanged}),a.state.editMode?r.a.createElement("input",{onBlur:a.deactivateEditMode,onChange:a.onTitleChanged,autoFocus:!0,value:a.state.newTitle}):r.a.createElement("span",{onClick:a.activateEditMode},a.props.task.title),", priority: ",e,r.a.createElement("button",{onClick:a.onDeleteTask,className:"button"},"Delete"))},a}return Object(p.a)(e,t),e}(r.a.Component),k=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(s)))).render=function(){var t=a.props.tasks.map(function(t){return r.a.createElement(h,{task:t,deleteTask:a.props.deleteTask,changeStatus:a.props.changeStatus,changeTitle:a.props.changeTitle})});return r.a.createElement("div",{className:"todoList-tasks"},t)},a}return Object(p.a)(e,t),e}(r.a.Component),T=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(s)))).state={isHidden:!1},a.onAllFilterClick=function(){a.props.changeFilter("All")},a.onCompletedFilterClick=function(){a.props.changeFilter("Completed")},a.onActiveFilterClick=function(){a.props.changeFilter("Active")},a.onShowFiltersClick=function(){a.setState({isHidden:!0})},a.onHideFiltersClick=function(){a.setState({isHidden:!1})},a.render=function(t){var e="All"===a.props.filterValue?"filter-active":"",n="Completed"===a.props.filterValue?"filter-active":"",s="Active"===a.props.filterValue?"filter-active":"";return r.a.createElement("div",{className:"todoList-footer"},!a.state.isHidden&&r.a.createElement("div",null,r.a.createElement("button",{onClick:a.onAllFilterClick,className:e},"All"),r.a.createElement("button",{onClick:a.onCompletedFilterClick,className:n},"Completed"),r.a.createElement("button",{onClick:a.onActiveFilterClick,className:s},"Active")),!a.state.isHidden&&r.a.createElement("span",{onClick:a.onShowFiltersClick},"hide"),a.state.isHidden&&r.a.createElement("span",{onClick:a.onHideFiltersClick},"show"))},a}return Object(p.a)(e,t),e}(r.a.Component),m=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(s)))).render=function(){return r.a.createElement("h3",{className:"todoList-header__title"},a.props.title)},a}return Object(p.a)(e,t),e}(r.a.Component),O=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(s)))).state={error:!1,title:""},a.onAddItemClick=function(){var t=a.state.title;a.setState({title:""}),""===t?a.setState({error:!0}):(a.setState({error:!1}),a.props.addItem(t))},a.onTitleChanged=function(t){a.setState({error:!1,title:t.currentTarget.value})},a.onKeyPress=function(t){"Enter"===t.key&&a.onAddItemClick()},a.render=function(){var t=a.state.error?"error":"";return r.a.createElement("div",{className:"todoList-newTaskForm"},r.a.createElement("input",{className:t,type:"text",placeholder:"New item name",onChange:a.onTitleChanged,onKeyPress:a.onKeyPress,value:a.state.title}),r.a.createElement("button",{onClick:a.onAddItemClick},"Add"))},a}return Object(p.a)(e,t),e}(r.a.Component),g=a(29),b=a.n(g).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"6fe6cb93-4f38-45a2-8141-96320128cd98"}}),v={createTodolist:function(t){return b.post("todo-lists",{title:t})},getTotolists:function(){return b.get("todo-lists")},deleteTodoList:function(t){return b.delete("todo-lists/".concat(t))},getTasks:function(t){return b.get("todo-lists/".concat(t,"/tasks"))},createTask:function(t,e){return b.post("todo-lists/".concat(t,"/tasks"),{title:e})},updateTask:function(t){return b.put("todo-lists/tasks",t)},deleteTasks:function(t){return b.delete("todo-lists/tasks/".concat(t))}},j=a(12),S=a.n(j);function E(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}var y=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(u.a)(this,Object(d.a)(e).call(this,t))).saveState=function(){var t=JSON.stringify(a.state);localStorage.setItem("our-state-"+a.props.id,t)},a.restoreState=function(){a.setState({isFetching:!0}),v.getTasks(a.props.id).then(function(t){a.setState({isFetching:!1}),a.setState({tasks:t.data.items})})},a.state={tasks:[],filterValue:"All",isFetching:!1},a.addTask=function(t){v.createTask(a.props.id,t).then(function(t){var e=t.data.data.item;a.setState({tasks:[].concat(Object(i.a)(a.state.tasks),[e])})})},a.changeFilter=function(t){a.setState({filterValue:t},function(){a.saveState()})},a.changeTask=function(t,e){var n=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?E(a,!0).forEach(function(e){Object(f.a)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):E(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}({},a.state.tasks.find(function(e){return e.id===t}),{},e);v.updateTask(n).then(function(e){var r=a.state.tasks.map(function(e){return e.id!=t?e:n});a.setState({tasks:r},function(){a.saveState()})})},a.changeStatus=function(t,e){a.changeTask(t,{status:e})},a.changeTitle=function(t,e){a.changeTask(t,{title:e})},a.render=function(){return r.a.createElement("div",{className:"todoList"},r.a.createElement("div",{className:"todoList-header"},r.a.createElement(m,{title:a.props.title}),r.a.createElement(O,{addItem:a.addTask})),a.state.isFetching?r.a.createElement("img",{src:S.a}):r.a.createElement(k,{changeStatus:a.changeStatus,changeTitle:a.changeTitle,tasks:a.state.tasks.filter(function(t){return"All"===a.state.filterValue||("Active"===a.state.filterValue?2!==t.status:"Completed"===a.state.filterValue?2===t.status:void 0)})}),r.a.createElement(T,{changeFilter:a.changeFilter,filterValue:a.state.filterValue}))},a.newTasksTitileRef=r.a.createRef(),a}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(r.a.Component);r.a.Component,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=a(13),C=a(16);function D(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function A(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?D(a,!0).forEach(function(e){Object(f.a)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):D(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var L={todolists:[],tasks:[]},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD-TASK":var a=A({},t);return a.tasks=[].concat(Object(i.a)(t.tasks),[{title:e.title}]),a;case"SET-TODOLIST-TASKS":var n=A({},t);return n.tasks=[].concat(Object(i.a)(t.tasks),Object(i.a)(e.tasks)),n;case"UPDATE-TASKS":var r=A({},t);return r.tasks=Object(i.a)(e.tasks),r;case"ADD-TODOLIST":return A({},t,{todolists:[].concat(Object(i.a)(t.todolists),[e.newTodolist])});case"SET-TODOLISTS":var s=A({},t);return s.todolists=[].concat(Object(i.a)(t.todolists),Object(i.a)(e.todolists)),s;case"DELETE-TODOLIST":var o=t.todolists.filter(function(t){return t.id!==e.todolistId});return A({},t,{todolists:o});case"DELETE-TASK":var c=t.tasks.filter(function(t){return t.id!==e.taskId});return A({},t,{tasks:c});default:return t}},F=Object(C.b)(P),I=function(t){return r.a.createElement("div",{className:"todoList"},r.a.createElement("div",{className:"todoList-header"},r.a.createElement(m,{title:t.title}),r.a.createElement(O,{addItem:t.addTask})),t.state.isFetching?r.a.createElement("img",{src:S.a,alt:""}):r.a.createElement(k,{deleteTask:t.deleteTask,changeStatus:t.changeStatus,changeTitle:t.changeTitle,tasks:t.tasks.filter(function(e){return"All"===t.state.filterValue||("Active"===t.state.filterValue?2!==e.status:"Completed"===t.state.filterValue?2===e.status:void 0)})}),r.a.createElement(T,{changeFilter:t.changeFilter,filterValue:t.state.filterValue}),r.a.createElement("button",{onClick:function(){t.deleteTodolist(t.id)}},"Delete"))};function N(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}var V=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(u.a)(this,Object(d.a)(e).call(this,t))).saveState=function(){var t=JSON.stringify(a.state);localStorage.setItem("our-state-"+a.props.id,t)},a.restoreState=function(){a.setState({isFetching:!0}),v.getTasks(a.props.id).then(function(t){a.setState({isFetching:!1}),a.props.setTasks(t.data.items)})},a.state={filterValue:"All",isFetching:!1},a.addTask=function(t){v.createTask(a.props.id,t).then(function(t){var e=t.data.data.item;a.props.setTasks([e])})},a.changeFilter=function(t){a.setState({filterValue:t},function(){a.saveState()})},a.changeTask=function(t,e){var n=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?N(a,!0).forEach(function(e){Object(f.a)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):N(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}({},a.props.tasks.find(function(e){return e.id===t}),{},e);v.updateTask(n).then(function(e){var r=a.props.tasks.map(function(e){return e.id!==t?e:n});a.props.changeTask(r)})},a.deleteTask=function(t){v.deleteTasks(t).then(function(e){a.props.deleteTask(t)})},a.changeStatus=function(t,e){a.changeTask(t,{status:e})},a.changeTitle=function(t,e){a.changeTask(t,{title:e})},a.deleteTodolist=function(t){v.deleteTodoList(t).then(function(e){a.props.deleteTodoList(t)})},a.render=function(){return r.a.createElement("div",{className:"todolistStyle"},r.a.createElement(I,Object.assign({deleteTask:a.deleteTask,deleteTodolist:a.deleteTodolist},a.props,{addTask:a.addTask,state:a.state,changeStatus:a.changeStatus,changeTitle:a.changeTitle})))},a.newTasksTitileRef=r.a.createRef(),a}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(r.a.Component),K=Object(w.b)(function(t){return{}},{setTasks:function(t){return{type:"SET-TODOLIST-TASKS",tasks:t}},changeTask:function(t){return{type:"UPDATE-TASKS",tasks:t}},deleteTodoList:function(t){return{type:"DELETE-TODOLIST",todolistId:t}},deleteTask:function(t){return{type:"DELETE-TASK",taskId:t}}})(V),M=function(t){return r.a.createElement("div",{className:"general"},r.a.createElement(O,{addItem:t.addTodoList}),t.todolists.map(function(e){return r.a.createElement(K,{tasks:t.tasks.filter(function(t){return t.todoListId===e.id}),id:e.id,title:e.title})}))},H=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).restoreState=function(){v.getTotolists().then(function(t){a.props.setTodolists(t.data)})},a.addTodoList=function(t){v.createTodolist(t).then(function(t){a.props.addTodoList(t.data.data.item)})},a}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(M,Object.assign({},this.props,{addTodoList:this.addTodoList})))}}]),e}(r.a.Component),R=Object(w.b)(function(t){return{tasks:t.tasks,todolists:t.todolists}},{addTask:function(t){return{type:"ADD-TASK",title:t}},setTodolists:function(t){return{type:"SET-TODOLISTS",todolists:t}},addTodoList:function(t){return{type:"ADD-TODOLIST",newTodolist:t}}})(H);o.a.render(r.a.createElement(w.a,{store:F},r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},7:function(t,e,a){}},[[31,1,2]]]);
//# sourceMappingURL=main.e1b97b1e.chunk.js.map